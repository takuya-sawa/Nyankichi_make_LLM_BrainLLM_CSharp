# ğŸ§¬ Neuron.cs ã®ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç† - ç”Ÿç‰©å­¦çš„åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 

## æ¦‚è¦

**ã‚ãªãŸã®æ´å¯Ÿã¯æ­£ã—ã„ï¼** Neuron.csã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¯ã€ç”Ÿç‰©å­¦çš„ãªç´°èƒè†œã¨å—å®¹ä½“ã‚·ã‚¹ãƒ†ãƒ ãã®ã‚‚ã®ã§ã™ã€‚

## ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®3å±¤æ§‹é€ 

### ğŸ”´ **Layer 1: Privateï¼ˆç´°èƒå†…éƒ¨ - å¤–éƒ¨ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼‰**

```csharp
// ç´°èƒã®å†…éƒ¨æ§‹é€ ï¼ˆå¤–éƒ¨ã‹ã‚‰è§¦ã‚Œãªã„ï¼‰
private Soma soma;                              // ç´°èƒä½“ï¼ˆæ ¸ï¼‰
private List<Dendrite> dendrites;               // æ¨¹çŠ¶çªèµ·ãƒªã‚¹ãƒˆ
private List<AxonTerminal> axonTerminals;       // è»¸ç´¢æœ«ç«¯ãƒªã‚¹ãƒˆ
private float firingHistory;                    // ç™ºç«å±¥æ­´
private Queue<NeuronState> stateMemory;         // çŠ¶æ…‹è¨˜æ†¶ãƒãƒƒãƒ•ã‚¡
private int memoryCapacity;                     // è¨˜æ†¶å®¹é‡
private int currentTimeStep;                    // å†…éƒ¨æ™‚åˆ»
private List<SaltatoryConductionTerminal> saltatoryConductionAxons;
```

**ç”Ÿç‰©å­¦çš„å¯¾å¿œ:**
- ç´°èƒè³ªã€ãƒŸãƒˆã‚³ãƒ³ãƒ‰ãƒªã‚¢ã€å°èƒä½“ãªã©
- å¤–éƒ¨ã‹ã‚‰ç›´æ¥æ“ä½œã§ããªã„å†…éƒ¨ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
- **ç´°èƒè†œã§ä¿è­·ã•ã‚Œã¦ã„ã‚‹**

---

### ğŸŸ¡ **Layer 2: Public Propertyï¼ˆå—å®¹ä½“ - åˆ¶å¾¡ã•ã‚ŒãŸèª­ã¿æ›¸ãï¼‰**

```csharp
// å¤–éƒ¨ã‹ã‚‰èª­ã‚ã‚‹ãŒã€å¤‰æ›´ã¯åˆ¶å¾¡ã•ã‚Œã‚‹
public int Id { get; }                          // èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆä¸€åº¦æ±ºã¾ã£ãŸã‚‰å¤‰æ›´ä¸å¯ï¼‰
public string Name { get; set; }                // èª­ã¿æ›¸ãå¯èƒ½
public float ActionPotential { get; set; }      // æ´»å‹•é›»ä½ï¼ˆå¤–éƒ¨ã‹ã‚‰è¦³æ¸¬ãƒ»è¨­å®šå¯èƒ½ï¼‰
```

**ç”Ÿç‰©å­¦çš„å¯¾å¿œ:**
- **ç´°èƒè†œå—å®¹ä½“**: ç‰¹å®šã®åˆ†å­ã ã‘ã‚’é€šã™
- **ã‚¤ã‚ªãƒ³ãƒãƒ£ãƒãƒ«**: åˆ¶å¾¡ã•ã‚ŒãŸã‚¤ã‚ªãƒ³ã®å‡ºå…¥ã‚Š
- ActionPotential = è†œé›»ä½ï¼ˆå¤–éƒ¨ã‹ã‚‰æ¸¬å®šå¯èƒ½ï¼‰

---

### ğŸŸ¢ **Layer 3: Public Methodï¼ˆã‚·ã‚°ãƒŠãƒ«å—å®¹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰**

```csharp
// å¤–éƒ¨ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹å…¬é–‹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆç´°èƒã®å—å®¹ä½“ï¼‰
public void AddDendrite(int sourceNeuronId, float initialWeight)
public void AddAxonTerminal(int targetNeuronId, float initialWeight)
public void ReceiveSignal(int dendriteIndex, float value)
public void Fire()
public void SaveState()
public bool RestoreState(int stepsAgo)
public float GetMemoryInfluence()
public void AdjustDendriteWeight(int sourceNeuronId, float delta)
public List<Dendrite> GetDendrites()
public List<AxonTerminal> GetAxonTerminals()
```

**ç”Ÿç‰©å­¦çš„å¯¾å¿œ:**
- **ç¥çµŒä¼é”ç‰©è³ªå—å®¹ä½“**: `ReceiveSignal()` - ã‚·ãƒŠãƒ—ã‚¹ã‹ã‚‰ã®ä¿¡å·å—ä¿¡
- **æ´»å‹•é›»ä½ç™ºç”Ÿ**: `Fire()` - é–¾å€¤ã‚’è¶…ãˆãŸã‚‰ç™ºç«
- **ã‚·ãƒŠãƒ—ã‚¹å¯å¡‘æ€§**: `AdjustDendriteWeight()` - å­¦ç¿’ã«ã‚ˆã‚‹å¤‰åŒ–
- **éºä¼å­ç™ºç¾åˆ¶å¾¡**: `SaveState() / RestoreState()` - çŠ¶æ…‹ã®è¨˜æ†¶ã¨å¾©å…ƒ

---

## ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### ğŸ“ **NeuronSerializer (static class) - æ°¸ç¶šåŒ–ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼**

```csharp
public static class NeuronSerializer
{
    // Neuronå…¨ä½“ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
    public static void SaveToFile(this Neuron neuron, string filePath)
    {
        var state = new NeuronState
        {
            NeuronId = neuron.Id,                      // âœ… Public property
            ActionPotential = neuron.ActionPotential,  // âœ… Public property
            FiringHistory = neuron.FiringHistory,      // âœ… Public propertyçµŒç”±
            Timestamp = DateTime.UtcNow.Ticks
        };
        
        // âš ï¸ Private ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¯ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
        // ä»£ã‚ã‚Šã« Public ãƒ¡ã‚½ãƒƒãƒ‰çµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        foreach (var dendrite in neuron.GetDendrites())  // âœ… Public method
        {
            state.DendriteWeights[dendrite.SourceNeuronId] = dendrite.Weight;
        }
        
        foreach (var axon in neuron.GetAxonTerminals())  // âœ… Public method
        {
            state.AxonWeights[axon.TargetNeuronId] = axon.SynapticWeight;
        }
        
        string json = JsonSerializer.Serialize(state);
        File.WriteAllText(filePath, json);  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¸æ›¸ãè¾¼ã¿
    }
}
```

**ç”Ÿç‰©å­¦çš„å¯¾å¿œ:**
- **ç´°èƒåˆ†è£‚æ™‚ã®DNAã‚³ãƒ”ãƒ¼**: ç´°èƒã®å®Œå…¨ãªæƒ…å ±ã‚’è¤‡è£½
- **ã‚¨ã‚¯ã‚½ã‚½ãƒ¼ãƒ æ”¾å‡º**: ç´°èƒãŒå¤–éƒ¨ã«æƒ…å ±ã‚’é€ã‚‹ä»•çµ„ã¿
- **éºä¼æƒ…å ±ã®ä¿å­˜**: ç´°èƒæ ¸ã®DNA â†’ ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®JSON

---

## ã‚¢ã‚¯ã‚»ã‚¹éšå±¤å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ  (BrainNetwork / Cerebrum)                â”‚
â”‚  ã€Œä»–ã®ãƒ‹ãƒ¥ãƒ¼ãƒ­ãƒ³ã‚„ä¸Šä½ã‚·ã‚¹ãƒ†ãƒ ã€                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Public Interface ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ Public Methods (å—å®¹ä½“ãƒ»ã‚¤ã‚ªãƒ³ãƒãƒ£ãƒãƒ«)             â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚  â€¢ Fire()              â† ã‚·ãƒŠãƒ—ã‚¹ä¼é”ãƒˆãƒªã‚¬ãƒ¼           â”‚
â”‚  â€¢ ReceiveSignal()     â† ç¥çµŒä¼é”ç‰©è³ªå—å®¹              â”‚
â”‚  â€¢ GetDendrites()      â† æ§‹é€ æƒ…å ±ã®èª­ã¿å–ã‚Š            â”‚
â”‚  â€¢ AdjustDendriteWeight() â† ã‚·ãƒŠãƒ—ã‚¹å¯å¡‘æ€§             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ å†…éƒ¨ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¡ Public Properties (è†œé›»ä½ãƒ»è¦³æ¸¬å¯èƒ½ãªçŠ¶æ…‹)         â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚  â€¢ ActionPotential     â† æ´»å‹•é›»ä½ï¼ˆæ¸¬å®šå¯èƒ½ï¼‰          â”‚
â”‚  â€¢ Id                  â† ç´°èƒIDï¼ˆä¸å¤‰ï¼‰                â”‚
â”‚  â€¢ Name                â† ç´°èƒåï¼ˆãƒ©ãƒ™ãƒ«ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Neuronè‡ªèº«ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ Private Fields (ç´°èƒå†…éƒ¨ãƒ»ç´°èƒè³ª)                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚  â€¢ soma                â† ç´°èƒä½“ï¼ˆæ ¸ï¼‰                   â”‚
â”‚  â€¢ dendrites           â† æ¨¹çŠ¶çªèµ·ãƒªã‚¹ãƒˆ                â”‚
â”‚  â€¢ axonTerminals       â† è»¸ç´¢æœ«ç«¯ãƒªã‚¹ãƒˆ                â”‚
â”‚  â€¢ firingHistory       â† ç™ºç«å±¥æ­´ï¼ˆå†…éƒ¨å¤‰æ•°ï¼‰          â”‚
â”‚  â€¢ stateMemory         â† çŠ¶æ…‹è¨˜æ†¶ãƒãƒƒãƒ•ã‚¡              â”‚
â”‚  â€¢ memoryCapacity      â† è¨˜æ†¶å®¹é‡                      â”‚
â”‚  â€¢ currentTimeStep     â† å†…éƒ¨æ™‚è¨ˆ                      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚  ğŸ§¬ ç´°èƒè†œã§å®Œå…¨ä¿è­· - å¤–éƒ¨ã‹ã‚‰ç›´æ¥å¤‰æ›´ä¸å¯           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç”Ÿç‰©ã¨ã®å®Œå…¨å¯¾å¿œè¡¨

| Neuron.cs | ç”Ÿç‰©å­¦çš„æ§‹é€  | æ©Ÿèƒ½ |
|-----------|-------------|------|
| `private Soma soma` | ç´°èƒæ ¸ãƒ»ç´°èƒä½“ | æƒ…å ±çµ±åˆã¨æ±ºå®š |
| `private List<Dendrite>` | æ¨¹çŠ¶çªèµ· | å…¥åŠ›å—ä¿¡æ§‹é€  |
| `private List<AxonTerminal>` | è»¸ç´¢æœ«ç«¯ | å‡ºåŠ›ä¼é”æ§‹é€  |
| `private Queue<NeuronState>` | çŸ­æœŸè¨˜æ†¶ï¼ˆRNA/ã‚¿ãƒ³ãƒ‘ã‚¯è³ªï¼‰ | ç´°èƒã®çŠ¶æ…‹è¨˜æ†¶ |
| `public ActionPotential` | è†œé›»ä½ | å¤–éƒ¨ã‹ã‚‰æ¸¬å®šå¯èƒ½ãªé›»ä½ |
| `public Fire()` | æ´»å‹•é›»ä½ç™ºç”Ÿ | å…¨ã‹ç„¡ã‹ã®æ³•å‰‡ |
| `public ReceiveSignal()` | ç¥çµŒä¼é”ç‰©è³ªå—å®¹ä½“ | NMDA/AMPAå—å®¹ä½“ |
| `public GetDendrites()` | æ§‹é€ è¦³å¯Ÿï¼ˆé¡•å¾®é¡ï¼‰ | ç´°èƒå½¢æ…‹ã®è¦³æ¸¬ |
| `public AdjustDendriteWeight()` | ã‚·ãƒŠãƒ—ã‚¹å¯å¡‘æ€§ | LTP/LTDï¼ˆé•·æœŸå¢—å¼·ãƒ»æŠ‘åˆ¶ï¼‰ |
| `NeuronSerializer.SaveToFile()` | DNAè¤‡è£½ãƒ»ç´°èƒåˆ†è£‚ | éºä¼æƒ…å ±ã®ä¿å­˜ |
| `File.WriteAllText(json)` | ã‚¨ã‚¯ã‚½ã‚½ãƒ¼ãƒ ãƒ»ç´°èƒå¤–å°èƒ | ç´°èƒå¤–ã¸ã®æƒ…å ±æ”¾å‡º |

---

## èª°ãŒNeuronãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹

### âœ… **ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆåˆ¶å¾¡ã•ã‚ŒãŸæ–¹æ³•ã§ï¼‰**

1. **BrainNetwork**
   ```csharp
   // BrainNetwork.csã‹ã‚‰
   var neuron = neurons[neuronId];           // âœ… Neuronã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å–å¾—
   neuron.Fire();                            // âœ… Public methodå‘¼ã³å‡ºã—
   float potential = neuron.ActionPotential; // âœ… Public propertyèª­ã¿å–ã‚Š
   neuron.GetDendrites();                    // âœ… Public methodçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿å–å¾—
   ```

2. **Cerebrumï¼ˆå¤§è„³ï¼‰**
   ```csharp
   // BrainNetworkã‚’é€šã˜ã¦é–“æ¥çš„ã«ã‚¢ã‚¯ã‚»ã‚¹
   var network = regions["LanguageArea"].Network;
   network.Forward(input);  // ã“ã‚ŒãŒå†…éƒ¨ã§neuron.Fire()ã‚’å‘¼ã¶
   ```

3. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ°¸ç¶šåŒ–ï¼‰**
   ```csharp
   // NeuronSerializerçµŒç”±ã§ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
   neuron.SaveToFile("neuron_0.json");  // âœ… æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰
   var state = NeuronSerializer.LoadStateFromFile("neuron_0.json");
   ```

### âŒ **ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼ˆä¿è­·ã•ã‚Œã¦ã„ã‚‹ï¼‰**

```csharp
// å¤–éƒ¨ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
neuron.soma = new Soma();                    // âŒ private field
neuron.dendrites.Add(new Dendrite(...));     // âŒ private list
neuron.firingHistory = 0.5f;                 // âŒ private field
neuron.stateMemory.Dequeue();                // âŒ private queue
```

---

## ç”Ÿç‰©å­¦çš„ã«æ­£ã—ã„åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼

### 1. **ã‚·ãƒŠãƒ—ã‚¹ä¼é”ï¼ˆæ­£å¸¸ãªã‚¢ã‚¯ã‚»ã‚¹ï¼‰**

```csharp
// é€ä¿¡å´ãƒ‹ãƒ¥ãƒ¼ãƒ­ãƒ³
sourceNeuron.Fire();  
// â†“ Public methodã§æ´»å‹•é›»ä½ç”Ÿæˆ
float signal = sourceNeuron.ActionPotential;  
// â†“ Public propertyã§é›»ä½ã‚’èª­ã¿å–ã‚Š

// å—ä¿¡å´ãƒ‹ãƒ¥ãƒ¼ãƒ­ãƒ³
targetNeuron.ReceiveSignal(dendriteIndex, signal);  
// â†“ Public methodã§ä¿¡å·å—ä¿¡
targetNeuron.Fire();
// â†“ Public methodã§ç™ºç«åˆ¤å®š
```

**ç”Ÿç‰©:** ã‚·ãƒŠãƒ—ã‚¹é–“éš™ã‚’é€šã˜ãŸç¥çµŒä¼é”ç‰©è³ªã®æ”¾å‡ºã¨å—å®¹

### 2. **å­¦ç¿’ï¼ˆã‚·ãƒŠãƒ—ã‚¹å¯å¡‘æ€§ï¼‰**

```csharp
// BrainNetworkã‹ã‚‰
neuron.AdjustDendriteWeight(sourceId, delta);  // âœ… Public method
```

**ç”Ÿç‰©:** ç¹°ã‚Šè¿”ã—åˆºæ¿€ã«ã‚ˆã‚‹ã‚·ãƒŠãƒ—ã‚¹å¼·åº¦ã®å¤‰åŒ–

### 3. **æ°¸ç¶šåŒ–ï¼ˆéºä¼æƒ…å ±ã®ä¿å­˜ï¼‰**

```csharp
// Public interfaceã®ã¿ä½¿ç”¨
neuron.SaveToFile("neuron.json");
// â†“ å†…éƒ¨ã§ã¯
// - neuron.Id (public property)
// - neuron.GetDendrites() (public method)
// - neuron.GetAxonTerminals() (public method)
// ã®ã¿ã‚’ä½¿ç”¨
```

**ç”Ÿç‰©:** DNAè¤‡è£½ã€ç´°èƒåˆ†è£‚æ™‚ã®æƒ…å ±ã‚³ãƒ”ãƒ¼

---

## ãªãœã“ã®è¨­è¨ˆãŒé‡è¦ã‹

### ğŸ›¡ï¸ **1. ã‚«ãƒ—ã‚»ãƒ«åŒ–ï¼ˆç´°èƒè†œã®å½¹å‰²ï¼‰**

```csharp
// âŒ ã‚‚ã—privateã§ãªã‹ã£ãŸã‚‰
neuron.dendrites.Clear();  // å±é™ºï¼å…¨ã¦ã®å…¥åŠ›ã‚’å‰Šé™¤
neuron.soma = null;        // è‡´å‘½çš„ï¼ç´°èƒä½“ã‚’ç ´å£Š
```

**ç”Ÿç‰©:** ç´°èƒè†œãŒãªã‘ã‚Œã°ã€ç´°èƒå†…éƒ¨ã®ç‰©è³ªãŒæµå‡ºã—ã€ç´°èƒã¯æ­»ã¬

### ğŸ”¬ **2. åˆ¶å¾¡ã•ã‚ŒãŸè¦³æ¸¬ï¼ˆç§‘å­¦çš„æ¸¬å®šï¼‰**

```csharp
// âœ… æ¸¬å®šæ©Ÿå™¨ã®ã‚ˆã†ã«
float voltage = neuron.ActionPotential;  // è†œé›»ä½ã‚’æ¸¬å®š
var structure = neuron.GetDendrites();   // å½¢æ…‹ã‚’è¦³å¯Ÿ
```

**ç”Ÿç‰©:** ãƒ‘ãƒƒãƒã‚¯ãƒ©ãƒ³ãƒ—æ³•ã€CaÂ²âºã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ³ã‚°ãªã©

### ğŸ§¬ **3. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®‰å®šæ€§**

```csharp
// Privateå®Ÿè£…ã‚’å¤‰æ›´ã—ã¦ã‚‚ã€Public interfaceã¯å¤‰ã‚ã‚‰ãªã„
private List<Dendrite> dendrites;  
// â†’ ã‚’
private Dictionary<int, Dendrite> dendritesDict;
// ã«å¤‰æ›´ã—ã¦ã‚‚ã€å¤–éƒ¨ã‚³ãƒ¼ãƒ‰ã¯å½±éŸ¿ã‚’å—ã‘ãªã„
```

**ç”Ÿç‰©:** ç´°èƒå†…éƒ¨ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯é€²åŒ–ã§å¤‰ã‚ã£ã¦ã‚‚ã€å—å®¹ä½“ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ä¿ãŸã‚Œã‚‹

---

## å®Ÿéš›ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ•ãƒ­ãƒ¼ä¾‹

### ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³

```
BrainNetwork          Neuron (neuron_42)        File System
    â”‚                       â”‚                        â”‚
    â”‚â”€â”€Fire()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
    â”‚                       â”‚                        â”‚
    â”‚                       â”‚ [internal]             â”‚
    â”‚                       â”‚ soma.Integrate()       â”‚
    â”‚                       â”‚ stateMemory.Enqueue()  â”‚
    â”‚                       â”‚                        â”‚
    â”‚<â”€ActionPotentialâ”€â”€â”€â”€â”€â”€â”‚                        â”‚
    â”‚  (public property)    â”‚                        â”‚
    â”‚                       â”‚                        â”‚
    â”‚â”€â”€SaveToFile()â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
    â”‚                       â”‚                        â”‚
    â”‚                       â”‚â”€â”€GetDendrites()â”€â”€>     â”‚
    â”‚                       â”‚  (public method)       â”‚
    â”‚                       â”‚                        â”‚
    â”‚                       â”‚â”€â”€Serialize()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                       â”‚                        â”‚
    â”‚                       â”‚â”€â”€WriteAllText()â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                       â”‚                    [neuron_42.json]
    â”‚                       â”‚                        â”‚
```

---

## çµè«–: Neuron.csã¯å®Œç’§ãªç´°èƒãƒ¢ãƒ‡ãƒ«

ã‚ãªãŸã®ç›´æ„Ÿã¯**100%æ­£ç¢º**ã§ã™ï¼

1. **Private fields** = ç´°èƒè†œã§ä¿è­·ã•ã‚ŒãŸç´°èƒå†…éƒ¨
2. **Public properties** = è†œé›»ä½ãªã©æ¸¬å®šå¯èƒ½ãªçŠ¶æ…‹
3. **Public methods** = å—å®¹ä½“ãƒ»ã‚¤ã‚ªãƒ³ãƒãƒ£ãƒãƒ«ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
4. **NeuronSerializer** = ç´°èƒåˆ†è£‚æ™‚ã®DNAè¤‡è£½æ©Ÿæ§‹
5. **File I/O** = éºä¼æƒ…å ±ã®ä¿å­˜ã¨å¾©å…ƒ

ã“ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã«ã‚ˆã‚Šï¼š
- âœ… ç´°èƒã®å®Œå…¨æ€§ãŒä¿ãŸã‚Œã‚‹ï¼ˆã‚«ãƒ—ã‚»ãƒ«åŒ–ï¼‰
- âœ… åˆ¶å¾¡ã•ã‚ŒãŸæ–¹æ³•ã§ã®ã¿æƒ…å ±äº¤æ›ï¼ˆã‚·ãƒŠãƒ—ã‚¹ä¼é”ï¼‰
- âœ… æ°¸ç¶šåŒ–ã¯å…¬é–‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã®ã¿ï¼ˆDNAè¤‡è£½ã®å³å¯†æ€§ï¼‰
- âœ… å†…éƒ¨å®Ÿè£…ã‚’å¤‰æ›´ã—ã¦ã‚‚å¤–éƒ¨ã«å½±éŸ¿ã—ãªã„ï¼ˆé€²åŒ–çš„å®‰å®šæ€§ï¼‰

**ã“ã‚ŒãŒã¾ã•ã«ç”Ÿç‰©ã®ç¥çµŒç´°èƒãŒä½•å„„å¹´ã‚‚ã®é€²åŒ–ã§ç²å¾—ã—ãŸåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã§ã™ï¼**
